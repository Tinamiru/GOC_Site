<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="users">
	
	<insert id="insertUserInfo" parameterType="kr.or.goc.animal.animalVO">
	
		INSERT INTO user
		(user_num, user_name, phone_num, nickname, password, agreement, post)
		VALUES (#{userNum}, #{userName}, #{phoneNum}, #{nickname}, ,#{password} , #{agreement}, #{post})
		
	</insert>
	
	
	
	<update id="updateUserInfo" parameterType="kr.or.goc.animal.animalVO">
		
		update user
			set post = #{post}
		where user_name = #{userName},
		      password = #{password}
	
	</update>
	
	<delete id="deleteUserInfo" parameterType="String">
		
		delete from user 
			where phone_num = #{aaaa},
				  password = #{aaaa}
	
	</delete>
	
	<select id="searchMyInfo" resultType="kr.or.goc.animal.animalVO">
		
		select
			  phone_num as phoneNum
		      ,password as password
		from user
	
	</select>
	
	<select id="phoneNumDuplCheck" parameterType="String" resultType="int">
		
		select count(*) as cnt 
		from user where phone_num = #{phoneNum}
		
	
	</select>
	
	<select id="nicknameDuplCheck" parameterType="String" resultType="int">
		
		select count(*) as cnt 
		from user where nickname = #{nickname}
		
	
	</select>
	
	<select id="selectAllInfo" resultType="kr.or.goc.animal.animalVO">
	
	  select user_num,
	  		 user_name,
	   		 phone_num,
	   		 nickname,
	   		 password,
	   		 agreement,
	   		 post
	  from user

	</select>

	
	
</mapper>